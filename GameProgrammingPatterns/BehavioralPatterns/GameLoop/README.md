# 游戏循环模式
## 意图
解耦游戏的运行、玩家的输入以及处理器速度。

## 要点
- 一个游戏循环在游玩中不断运行。 每一次循环，它无阻塞地处理玩家输入，更新游戏状态，渲染游戏。 它追踪时间的消耗并控制游戏的速度。
- 游戏循环将游戏的处理过程和玩家输入解耦，和处理器速度解耦，实现用户输入和处理器速度在游戏行进时间上的分离。
- 如果你在操作系统的顶层或者有图形UI和内建事件循环的平台上构建游戏， 那你就有了两个应用循环在同时运作。 它们需要很好地协调。

## 使用场景
任何游戏或游戏引擎都有自己的游戏循环。游戏循环是游戏运行的基础。

### 设计决策
- 谁控制游戏循环

    - 平台
        
        不用自己编写和优化，平台友好，失去了对时间的控制
    - 游戏引擎
  
        不必自己编写，失去了对时间的控制。
    - 自己写
  
        完全控制，需要考虑与平台的交互

- 如何管理能量消耗
    
    - 不限制

        最好的游戏体验，设备消耗严重，发热严重。

    - 固定帧率

        如果游戏循环在分配的时间片消耗完之前完成，剩余的时间它会休眠。

-  如何控制游戏速度

    - 固定时间步长，没有同步

        简单，游戏速度直接受到硬件和游戏复杂度的影响。

    - 固定时长，有同步
  
        简单，电量友好，没有分离更新和渲染，游戏可能运行过慢。

    - 动态时间步长

        能适应并调整，并避免运行的过快或过慢。让游戏不确定而且不稳定。

    - 固定更新时间步长，动态渲染

        能适应并调整，并避免运行的过快或过慢。它以固定时间步长更新，但是如果需要赶上玩家的时间，可以扔掉一些渲染帧。
    